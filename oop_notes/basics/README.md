# Основы классов и структур
## Структуры (классы) и методы
Структуры - способ синтаксически и физически сгруппировать логически связанные данные. Для получения доступа к полям структуры используются:  
        - Для структур - через оператор **.**   
        - Для указателей на структуры - через оператор **->**   
Методы - это функция, определенная внутри структуры. Ключевая особенность методов состоит в том, что они способны взаимодействовать с полями структуры (класса).  

Методы реализованы как функции с неявным параметром this, который указывает на текущий экземпляр структуры.  
```
    void f (/* Point* this ,*/ ...) {}
```

Методы необходимо раздеоять на объявление и определение:
```
    struct ClassName {
        void f(...);
    };
    void S::f(...) {}
```

## Конструкторы и деструкторы
- Конструкторы
Конструкторы - это методы для инициализации структур - они не имеют возвращаемого значения. Конструкторы могут быть:
1. По умолчанию
```
ClassName() {}
ClassName s;  
```
2. С параметрами  
```
ClassName(...) {}
ClassName s(...);
```
*Если структура не имеет определенных конструкторов, то компилятор определит свой по умолчанию*
*В противном случае, если имеется конструктор с параметрами, то в данном случае генерации происходить не будет*
Поля могут быть проинициализированы до входа в конструктор -
в таком случае инициализация полей в списке инициализации происходит в порядке объявления полей.
```
ClassName(...) : x(x), y(y), ... {}
```
При создании конструкторов от одного параметра, возможно использование неявного преобразования при создании объектов:
```
struct ClassName {
    ClassName() {}
    ClassName(double length) {}
};

ClassName s1 = 20;
```
Поведение неявного пользовательского преобразования можно запретить используя ключевое слово **explicit**
Данное поведение имеет в действительности смысл только для конструкторов от одного аргумента 
(и конструкторов с переменным числом аргументов, которые могут в конечном итоге привести к использоанию 1 аргумента).
```
struct ClassName {
    ClassName() {}
    explicit ClassName(double length) {}
};

Segment s1 = 20; // error
```
- Деструкторы - это метод, который вызывается при удалении структуры. Деструкторы не имеют параметров и могут быть определены только единожды.
```
~ClassName() {}
```

Таким образом, временной интервал между вызовами конструктора и деструктора представляет собой время жизни структуры.

Экземпляром создаваемого класса является объект. 
Объект может быть создан в динамической памяти с помощью оператора new, который выделит не только память, но и вызовет конструктор. А для удаления - оператор delete, который вызовет деструктор объекта.
```
ClassName* s1 = new ClassName();
delete s1;
```

## Конструкторы и операторы копирования, перемещения
- Конструктор копирования - специальный метод, создающий копию указанного объекта.
```
ClassName(const ClassName &other); // Передача по ссылке необходима поскольку иначе произошла бы рекурсивная зависимость
```
- Оператор копирования - оператор, который присваивает один объект другому.
```
ClassName& operator=(const ClassName &other);
```
- Конструктор перемещения - специальный метод, создающий копию указанного объекта с перемещением всех полей
```
ClassName(ClassName &&other) noexcept;
```
- Оператор перемещения - оператор, который присваивает один объект другому с перемещением ресурсов.
```
ClassName& operator=(ClassName &&other) noexcept;
```
- Правило пяти  
Правило пяти гласит, что если класс требует явного определения одного из следующих методов, то, скорее всего, ему потребуются все пять:  
    - Деструктор.
    - Конструктор копирования.
    - Оператор копирования.
    - Конструктор перемещения.
    - Оператор перемещения.

*Отличие описанных операторов и конструкторов в том, что конструкторы создают новый объект на основании данного, а операторы присваивают уже имеющемуся*
*Если структура не имеет определенных конструкторов/операторов копирования/перемещения, то компилятор определит свой по умолчанию*

## Модификаторы доступа
Модификаторы доступа позволяют ограничивать доступ к методам и полям класса. Существую следующие модификаторы доступа:
- public - доступ к членам может быть осуществлен снаружи, изнутри класса и в производных классах.
- private - доступ к членам может быть осуществлен только изнутри класса. 
- protected - доступ к членам может быть осуществлен изнутри класса и в проивзодных классах.
 
